!function(a){var b=function(a,b,c){this.init(a,b,c)},c=null;b.prototype={init:function(b,c,d){var e,f,g;this.height=c,this.cutHeight=d,this.$table=a(b),this.$thead=this.$table.find("thead"),e=this.$table.attr("id"),this.$table.wrap('<div class="tableBox" id="'+e+'_tableBox"></div>'),f='<div class="headBox" id="'+e+'_headBox"><table class="table table-bordered table-condensed"><thead>'+this.$thead.html()+"</thead></table></div>",this.$table.before(f),this.height>0?a("#"+e+"_tableBox").height(this.height):(a("#"+e+"_tableBox").height(a(window).height()-this.cutHeight),g=this,a(window).on("resize",function(){a("#"+e+"_tableBox").height(a(window).height()-g.cutHeight)})),a("#"+e+"_tableBox").on("scroll",function(){a(this).scrollTop()>0?(a("#"+e+"_headBox").show(),a("#"+e+"_headBox").css("top",a(this).scrollTop())):a("#"+e+"_headBox").hide()}),a("#"+e+"_headBox table thead input[type='checkbox']").change(function(){var b=a(this).is(":checked");a("#"+e+" tbody input[type='checkbox']").each(function(){a(this).prop("checked",b)})})}},c=a.fn.tableScroll,a.fn.tableScroll=function(c,d){var e=null;return a(this).each(function(f,g){var h=a(g),i=h.data("tableScroll"),j="number"!=typeof c?0:c,k="number"!=typeof d?0:d;i?(i.height=j,i.cutHeight=k):h.data("tableScroll",i=new b(this,j,k)),e=i}),e}}(jQuery);